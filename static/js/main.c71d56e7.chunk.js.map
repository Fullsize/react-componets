{"version":3,"sources":["containers/video-player/index.module.css","containers/video-player/components/controls/index.module.css","containers/video-player/components/controls/components/progress-bar/index.module.css","containers/video-player/components/controls/components/play-button/index.module.css","containers/video-player/components/controls/components/mute-button/index.module.css","containers/video-player/components/controls/components/full-screen/index.module.css","containers/video-player/components/button/index.module.css","containers/video-player/components/controls/components/picture-button/index.module.css","containers/video-player/components/controls/components/time-board/index.module.css","containers/video-player/components/controls/components/playbackRate-button/index.module.css","containers/video-player/components/controls/components/resolution-button/index.tsx","stores/root_contxt.ts","views/index.tsx","containers/video-player/context/context-manager.ts","containers/video-player/components/hls/index.tsx","containers/video-player/components/video/index.tsx","containers/video-player/components/controls/components/progress-bar/index.tsx","containers/video-player/components/button/index.tsx","containers/video-player/components/controls/components/play-button/index.tsx","containers/video-player/img/pause.png","containers/video-player/img/play.png","containers/video-player/components/controls/components/mute-button/index.tsx","containers/video-player/img/muted.png","containers/video-player/img/volume.png","containers/video-player/components/controls/components/picture-button/index.tsx","containers/video-player/img/picture.png","containers/video-player/components/controls/components/time-board/index.tsx","containers/video-player/components/controls/components/playbackRate-button/index.tsx","containers/video-player/components/controls/components/full-screen/index.tsx","containers/video-player/img/full_screen.png","containers/video-player/components/controls/index.tsx","containers/video-player/context/utils.ts","containers/video-player/context/user-context.ts","containers/video-player/Child.tsx","containers/video-player/components/loading/index.tsx","containers/video-player/index.tsx","views/video/index.tsx","App.tsx","stores/app.ts","stores/root.ts","reportWebVitals.ts","index.tsx"],"names":["module","exports","ResolutionText","RootContext","createContext","MainContext","observer","props","app","useContext","count","onClick","addCount","React","HLSSource","player","PlayerContext","videoRef","states","src","sourceType","initialized","playVideo","useCallback","hls","Hls","isSupported","current","loadSource","attachMedia","on","Events","ERROR","e","data","type","fatal","details","ErrorTypes","NETWORK_ERROR","console","log","MEDIA_ERROR","recoverMediaError","destroy","once","MANIFEST_PARSED","play","MEDIA_ATTACHED","useEffect","useMemo","Video","dispatch","onTimeUpdate","currentTime","target","onPlaying","custom","isLoading","onPlay","paused","onPause","onLoadedData","readyState","duration","onProgress","buffered","onWaiting","ref","controls","webkit-playsinline","playsInline","x5-video-player-type","style","width","getValue","rect","w","clientX","left","Math","round","ProgressBar","changeCurrentTime","pause","useState","value","setValue","slidRef","useRef","slidTrackRef","sliding","setSliding","updateRef","rectangleRef","trackTranslateX","toFixed","getTrackTranslateX","bufferedTranslateX","i","length","end","start","getBufferedEnd","getBufferedTranslateX","handClick","preventDefault","currentTarget","getBoundingClientRect","v","update","undefined","handTouchStart","c","touches","window","requestAnimationFrame","handTouchMove","handTouchEnd","className","styles","onTouchStart","onTouchMove","onTouchEnd","Button","disabled","children","PlayButton","alt","MuteButton","toggleMute","muted","Picture","document","pictureInPictureElement","exitPictureInPicture","catch","error","requestPictureInPicture","pictureInPictureEnabled","formatTime","outputH","outputM","outputS","timeSystem","max","min","timeStamp","hours","floor","minutes","seconds","TimeBoard","PlaybackRateButton","playbackRate","modal","enable","Resolution","resolution","PageFull","VideoControls","SourceType","split","pop","Reducer","state","action","actions","json","_","omit","cloneDeep","Object","assign","DEFAULT_STATE","autoplay","rates","UserContext","useReducer","lockPlay","el","promise","resetLock","then","video","volume","changeRate","VideoPlayer","Provider","Loading","Child","VideoPage","App","exact","path","component","Home","PlayPage","AppStore","makeAutoObservable","this","RootStore","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","history","createBrowserHistory","getElementById"],"mappings":"+GACAA,EAAOC,QAAU,CAAC,UAAY,gCAAgC,kBAAkB,sCAAsC,UAAY,gCAAgC,kBAAoB,wCAAwC,WAAa,iCAAiC,QAAU,gC,mBCAtRD,EAAOC,QAAU,CAAC,UAAY,4BAA4B,qBAAqB,qCAAqC,IAAM,wB,mBCA1HD,EAAOC,QAAU,CAAC,OAAS,6BAA6B,eAAiB,qCAAqC,eAAiB,qCAAqC,cAAgB,sC,mBCApLD,EAAOC,QAAU,CAAC,IAAM,yBAAyB,KAAO,4B,gBCAxDD,EAAOC,QAAU,CAAC,IAAM,yBAAyB,KAAO,4B,gBCAxDD,EAAOC,QAAU,CAAC,IAAM,yBAAyB,KAAO,4B,mBCAxDD,EAAOC,QAAU,CAAC,IAAM,sB,gBCAxBD,EAAOC,QAAU,CAAC,KAAO,+B,gBCAzBD,EAAOC,QAAU,CAAC,YAAY,gC,gBCA9BD,EAAOC,QAAU,CAAC,IAAM,mC,yFCSnBC,E,+DCAUC,EADKC,wBAAyB,I,OCU9BC,EATcC,aAAU,SAACC,GAAW,IAC3CC,EAAKC,qBAAWN,GAAhBK,IACP,OACC,qCACC,8BAAMA,EAAIE,QACV,wBAAQC,QAASH,EAAII,SAArB,gC,QCNYC,MAAMT,cAAsB,I,gBC0G5BU,EA3Ca,WAC3B,IAAMC,EAASN,qBAAWO,GAEzBC,EAEGF,EAFHE,SAHgC,EAK7BF,EADHG,OAAUC,EAJsB,EAItBA,IAJsB,IAIjBC,kBAJiB,MAIJ,wBAJI,EAIqBC,EAJrB,EAIqBA,YAEhDC,EAAYC,uBAAY,WAC7B,IAAMC,EAAM,IAAIC,IAChB,GAAIA,IAAIC,cAAe,CACtB,IAAKT,EAASU,QACb,OAAO,EAERH,EAAII,WAAWT,GACfK,EAAIK,YAAYZ,EAASU,SAEzBH,EAAIM,GAAGL,IAAIM,OAAOC,OAAO,SAACC,EAAGC,GAAU,IAC9BC,EAAyBD,EAAzBC,KAAMC,EAAmBF,EAAnBE,MAAmBF,EAAZG,QAChBD,IAGDD,IAASV,IAAIa,WAAWC,cAC3BC,QAAQC,IAAI,4BACFN,IAASV,IAAIa,WAAWI,YAClClB,EAAImB,oBAEJnB,EAAIoB,cAGNpB,EAAIqB,KAAKpB,IAAIM,OAAOe,iBAAiB,WAAO,IAAD,EAC1C,UAAA7B,EAASU,eAAT,SAAkBoB,UAEnBvB,EAAIqB,KAAKpB,IAAIM,OAAOiB,gBAAgB,WACnCxB,EAAII,WAAWT,SAGf,CAACA,EAAKF,IAET,OADAgC,qBAAU,WAAM3B,MAAa,CAACA,IACvB4B,mBAAQ,WACd,OAAO7B,EAAc,wBAAQF,IAAKA,EAAKgB,KAAMf,IAAiB,OAC5D,CAACC,EAAaD,EAAYD,KC5CfgC,EAzDS,WACvB,IAAMpC,EAASN,qBAAWO,GAClBE,EAAgCH,EAAhCG,OAAQD,EAAwBF,EAAxBE,SAAUmC,EAAcrC,EAAdqC,SACpBC,EAAe9B,uBAAY,SAACU,GACjCmB,EAAS,CAAEjB,KAAM,cAAemB,YAAarB,EAAEsB,OAAOD,gBAEpD,CAACF,IACEI,EAAYjC,uBAAY,SAACU,GAC9BmB,EAAS,CAACjB,KAAK,SAASsB,OAAO,CAACC,WAAU,OACxC,CAACN,IACEO,EAASpC,uBAAY,SAACU,GAC3BO,QAAQC,IAAI,SAAUR,GACtBmB,EAAS,CAAEjB,KAAM,SAAUyB,QAAQ,MACjC,CAACR,IACES,EAAUtC,uBAAY,SAACU,GAC5BO,QAAQC,IAAI,UAAWR,GACvBmB,EAAS,CAAEjB,KAAM,SAAUyB,QAAQ,MACjC,CAACR,IACEU,EAAevC,uBAAY,SAACU,GAAO,IAAD,EACvCO,QAAQC,IAAI,aAAZ,UAA0BxB,EAASU,eAAnC,aAA0B,EAAkBoC,YAC5CX,EAAS,CAAEjB,KAAM,WAAY6B,SAAU/B,EAAEsB,OAAOS,aAC9C,CAACZ,EAAUnC,IACRgD,EAAa1C,uBAAY,SAACU,GAC/BO,QAAQC,IAAI,aAAcR,EAAEsB,OAAOW,UACnCd,EAAS,CAAEjB,KAAM,SAAU,OAAU,CAAE+B,SAAUjC,EAAEsB,OAAOW,cACxD,CAACd,IACEe,EAAU5C,uBAAY,SAACU,GAC5BO,QAAQC,IAAI,aACZW,EAAS,CAACjB,KAAK,SAASsB,OAAO,CAACC,WAAU,OACzC,CAACN,IACH,OAAOF,mBAAQ,WACd,OACC,mCACC,wBACCkB,IAAKnD,EACLoD,UAAU,EACVC,qBAAmB,OACnBC,aAAa,EACbC,uBAAqB,KACrBC,MAAO,CAAE,MAASvD,EAAOwD,OACzBrB,aAAcA,EACdM,OAAQA,EACRE,QAASA,EACTL,UAAWA,EACXS,WAAYA,EACZH,aAAcA,EACdK,UAAWA,EAbZ,UAewB,KAAtBjD,EAAOE,YAAsB,wBAAQD,IAAKD,EAAOC,MAC3B,0BAAtBD,EAAOE,YAAwC,cAAC,EAAD,WAKjD,CAACH,EAAUC,EAAOwD,MAAOxD,EAAOE,WAAYF,EAAOC,IAAKkC,EAAcM,EAAQE,EAASL,EAAWS,EAAYH,EAAcK,K,0CCxB1HQ,EAAW,SAAC1C,EAAQ2C,EAAWZ,GACpC,IAAMa,EAAI5C,EAAE6C,QAAUF,EAAKG,KAC3B,OAAIF,GAAK,EACD,EAEJA,GAAKD,EAAKF,MACNV,EAEDgB,KAAKC,MAAOjB,GAAY/B,EAAE6C,QAAUF,EAAKG,MAASH,EAAKF,QAsGhDQ,EAnGe,WAC7B,IAAMnE,EAASN,qBAAWO,GADS,EAE6DD,EAAxFG,OAAUoC,EAFiB,EAEjBA,YAAaU,EAFI,EAEJA,SAAUE,EAFN,EAEMA,SAFN,EAE6DnD,EAA3CsD,SAAYc,EAF9B,EAE8BA,kBAAmBC,EAFjD,EAEiDA,MAFjD,EAGTC,mBAAS/B,GAHA,mBAG5BgC,EAH4B,KAGrBC,EAHqB,KAI7BC,EAAUC,iBAAuB,MACjCC,EAAeD,iBAAuB,MALT,EAMLJ,oBAAS,GANJ,mBAM5BM,EAN4B,KAMnBC,EANmB,KAO7BC,EAAYJ,iBAAY,MACxBK,EAAeL,iBAAY,MAC3BM,EA9BoB,SAAC,GAAoD,IAAlD/B,EAAiD,EAAjDA,SAAUV,EAAuC,EAAvCA,YAAagC,EAA0B,EAA1BA,MAAOK,EAAmB,EAAnBA,QAC3D,OAAI3B,EAAW,EACP,IAES,IAAbA,EACI,QAEF,GAAN,QAAY,KAAO2B,EAAUL,EAAQhC,GAAgBU,GAAUgC,QAAQ,GAAvE,KAuBwBC,CAAmB,CAAE3C,cAAaU,WAAUsB,QAAOK,YACrEO,EAtCuB,SAAC,GAAuD,IAArDhC,EAAoD,EAApDA,SAAUZ,EAA0C,EAA1CA,YAAaqC,EAA6B,EAA7BA,QAAS3B,EAAoB,EAApBA,SAChE,GAAIA,GAAY,GAAK2B,EACpB,MAAO,QAER,IAAM1D,EAjBgB,SAACqB,EAAqBY,GAC5C,IAAKA,EACJ,OAAO,EAER,IAAK,IAAIiC,EAAIjC,EAASkC,OAAS,EAAGD,GAAK,EAAGA,GAAK,EAAG,CACjD,IAAME,EAAMnC,EAASmC,IAAIF,GACzB,GAAI7C,GAAe+C,GAAOnC,EAASoC,MAAMH,IAAM7C,EAC9C,OAAO+C,EAGT,OAAO,EAOGE,CAAejD,EAAaY,GACtC,MAAM,GAAN,QAAY,IAAMjC,EAAK+B,GAAUgC,QAAQ,GAAzC,KAiC2BQ,CAAsB,CAAEtC,WAAUZ,cAAaqC,UAAS3B,aAC7EyC,EAAYlF,uBAAY,SAACU,GAC9BA,EAAEyE,iBACF,IAAM9B,EAAO3C,EAAE0E,cAAcC,wBACvBC,EAAIlC,EAAS1C,EAAG2C,EAAMZ,GAC5BuB,EAASsB,GACT1B,EAAkB0B,GAClBjB,GAAW,GACXpD,QAAQC,IAAI,QAAQoE,KAClB,CAAC1B,EAAmBnB,IACjB8C,EAASvF,uBAAY,WACrBsE,GAAcA,EAAUlE,eAGzBoF,IAAclB,EAAUlE,QAAQ2D,OACnCC,EAASM,EAAUlE,QAAQ2D,OAE5BO,EAAUlE,QAAU,QAClB,IACGqF,EAAiBzF,uBAAY,SAACU,GACnC,IAAIgF,EAAIhF,EAAEiF,QAAQ,GAClB,GAAI1B,EAAQ7D,QAAS,CAAC,IAAD,EACI6D,EAAQ7D,QAAQiF,wBAAhC7B,EADY,EACZA,KAAML,EADM,EACNA,MACdoB,EAAanE,QAAU,CAAEoD,OAAML,SAEhC,IAAMmC,EAAIlC,EAASsC,EAAGnB,EAAanE,QAASqC,GACxC6B,EAAUlE,QACbkE,EAAUlE,QAAQ2D,MAAQuB,GAE1BhB,EAAUlE,QAAU,CAAE2D,MAAOuB,GAC7BM,OAAOC,sBAAsBN,MAE5B,CAAC9C,EAAU8C,IACRO,EAAgB9F,uBAAY,SAACU,GAClC,IAAIgF,EAAIhF,EAAEiF,QAAQ,GAClB,GAAKpB,GAAiBA,EAAanE,SAAYkE,EAA/C,CAGA,GAAIL,EAAQ7D,QAAS,CAAC,IAAD,EACI6D,EAAQ7D,QAAQiF,wBAAhC7B,EADY,EACZA,KAAML,EADM,EACNA,MACdoB,EAAanE,QAAU,CAAEoD,OAAML,SAEhC,IAAMmC,EAAIlC,EAASsC,EAAGnB,EAAanE,QAASqC,GAC5CoB,IACAQ,GAAW,GACPC,EAAUlE,QACbkE,EAAUlE,QAAQ2D,MAAQuB,GAE1BhB,EAAUlE,QAAU,CAAE2D,MAAOuB,GAC7BM,OAAOC,sBAAsBN,OAE5B,CAAC9C,EAAUoB,EAAO0B,IACrB7D,qBAAU,WACT2C,GAAW,KACV,CAACtC,IACH,IAAMgE,EAAe/F,uBAAY,SAACU,GACjCA,EAAEyE,iBACFI,IACAtE,QAAQC,IAAI,eAAe6C,EAAMrD,GACjCkD,EAAkBG,KAEhB,CAACH,EAAmB2B,EAAQxB,IAE/B,OAAOpC,mBAAQ,WACd,OACC,sBAAKqE,UAAWC,IAAM,OAAYpD,IAAKoB,EAAS7E,QAAS8F,EAAzD,UAEC,qBACCc,UAAWC,IAAM,eACjB/C,MAAO,CACN,MAAQ,GAAR,OAAYyB,MAId,qBACCqB,UAAWC,IAAM,eACjBpD,IAAKsB,EACL+B,aAAcT,EACdU,YAAaL,EACbM,WAAYL,EACZ7C,MAAO,CACN,MAAQ,GAAR,OAAYsB,WAKd,CAACG,EAAoBO,EAAWa,EAAcD,EAAeL,EAAgBjB,K,iBCrHlE6B,EAhBiB,SAACrH,GAAW,IAAD,EAM1C,OACC,wBACCgH,UAAS,UAAKC,IAAM,IAAX,sBAAsBjH,EAAMgH,iBAA5B,QAAyC,IAClD5G,QARgB,SAACsB,GAGlB,OAFAA,EAAEyE,iBACFnG,EAAMI,SAAWJ,EAAMI,WAChB,GAMNkH,SAAUtH,EAAMsH,SAHjB,SAKEtH,EAAMuH,Y,iBCCKC,EAdc,WAC5B,IAAMhH,EAASN,qBAAWO,GACR4C,EAAuB7C,EAAjCG,OAAU0C,OAAUS,EAAatD,EAAbsD,SAC5B,OAAOnB,mBAAQ,WACd,OACC,mCACC,cAAC,EAAD,CAAQqE,UAAWC,IAAM,IAAS7G,QAASiD,EAASS,EAAStB,KAAOsB,EAASe,MAA7E,SACC,qBAAKmC,UAAWC,IAAM,KAAUrG,IAAKyC,ECpB3B,q5GCAA,iwBFoBsDoE,IAAI,WAIrE,CAAC3D,EAASe,MAAOf,EAAStB,KAAMa,K,iBGErBqE,EAbc,WAAO,IAAD,EAC5BlF,EAAOtC,qBAAWO,GAChBC,EAAuC8B,EAAvC9B,SAAsBiH,EAAiBnF,EAA7BsB,SAAY6D,WAE9B,OACC,mCACC,cAAC,EAAD,CAAQX,UAAWC,IAAM,IAAS7G,QAASuH,EAA3C,SACC,qBAAKX,UAAWC,IAAM,KAAUrG,KAAK,UAAAF,EAASU,eAAT,eAAkBwG,OCpB5C,iuECAA,iiCFoBoEH,IAAI,U,iBGiBxEI,EAzBW,WACzB,IACQnH,EADOR,qBAAWO,GAClBC,SACFwF,EAAYlF,uBAAY,WACxB8G,SAASC,wBAMbD,SAASE,uBACPC,OAAM,SAAAC,OANRxH,EAASU,SAAWV,EAASU,QAAQ+G,0BACnCF,OAAM,SAAAC,SASP,CAACxH,IACJ,OACC,mCACEoH,SAASM,yBAA2B,cAAC,EAAD,CAAQhI,QAAS8F,EAAjB,SACpC,qBAAKc,UAAWC,IAAM,KAAUrG,IC/BrB,yhCD+BmC6G,IAAI,U,iBErBhDY,EAAa,WAAwB,IACtCC,EACAC,EACAC,EAHezD,EAAsB,uDAAd,EAIrB0D,EAAa,GACbC,EAAM,GACNC,EAAM,EACNC,EAAYnE,KAAKC,MAAMK,GACvB8D,EAAQpE,KAAKqE,MAAMF,EAAYH,EAAaA,GAC5CM,EAAUtE,KAAKqE,OAAOF,EAAYC,EAAQJ,EAAaA,GAAcA,GACrEO,EAAUvE,KAAKC,MAAMkE,EAAYC,EAAQJ,EAAaA,EAAaM,EAAUN,GAkBnF,OAhBCH,EADGO,EAAQH,EACJ,UAAMG,EAAN,KACGA,EAAQF,EACX,WAAOE,EAAP,KAEG,GAGVN,EADGQ,EAAUL,EACN,WAAOK,EAAP,KAEA,UAAMA,EAAN,KAGPP,EADGQ,EAAUN,EACN,WAAOM,GAEP,UAAMA,GAER,GAAN,OAAUV,GAAV,OAAoBC,GAApB,OAA8BC,IAYhBS,EATa,WAC3B,IADiC,EAClB/I,qBAAWO,GAClBE,OAAUoC,EAFe,EAEfA,YAAaU,EAFE,EAEFA,SAC/B,OACC,uBAAMuD,UAAWC,IAAO,aAAxB,UACEoB,EAAWtF,GADb,IAC4BsF,EAAW5E,O,iBClB1ByF,EAjBsB,WACpC,IAAM1I,EAASN,qBAAWO,GACR0I,EAA6B3I,EAAvCG,OAAUwI,aAAgBtG,EAAarC,EAAbqC,SAC5BqD,EAAYlF,uBAAY,WAC7B6B,EAAS,CACRjB,KAAM,SACNsB,OAAQ,CACPkG,MAAO,CAAExH,KAAM,OAAQyH,QAAQ,QAG/B,CAACxG,IACJ,OAAOF,mBAAQ,kBACd,eAAC,EAAD,CAAQqE,UAAWC,IAAM,IAAS7G,QAAS8F,EAA3C,UACEiD,EADF,SAGE,CAACjD,EAAWiD,M,SjBhBXxJ,K,kBAAAA,E,kBAAAA,E,oBAAAA,M,KAKL,IAOe2J,EAPc,WAC5B,IACkBC,EADHrJ,qBAAWO,GAClBE,OAAU4I,WAClB,OACC,cAAC,EAAD,UAAS5J,EAAe4J,M,iBkBDXC,EAPY,WAC1B,OACC,cAAC,EAAD,CAAQxC,UAAWC,IAAM,IAAzB,SACC,qBAAKD,UAAWC,IAAM,KAAUrG,ICdpB,69BDcqC6G,IAAI,QE8BzCgC,EA3BO,WACrB,OACC,sBAAKzC,UAAWC,IAAM,UAAtB,UACC,cAAC,EAAD,IACA,sBAAKD,UAAWC,IAAO,sBAAvB,UACC,sBAAKD,UAAWC,IAAM,IAAtB,UAEC,cAAC,EAAD,IAEA,cAAC,EAAD,OAED,sBAAKD,UAAWC,IAAM,IAAtB,UAEC,cAAC,EAAD,IAEA,cAAC,EAAD,IAEA,cAAC,EAAD,IAEA,cAAC,EAAD,IAEA,cAAC,EAAD,c,iBC/BE,SAASyC,EAAW9I,GAC1B,IAEIC,EAAa,GACjB,OAHkBD,EAAI+I,MAAM,KAAK,GACNA,MAAM,KAAKC,OAGrC,IAAK,OACJ/I,EAAa,wBACb,MACD,IAAK,MACJA,EAAa,cACb,MACD,QACCA,EAAa,GAEf,OAAOA,ECRR,IAAMgJ,GAAU,SAACC,EAAkBC,GAClC,IAAMC,EAA0B,WAAhBD,EAAOnI,KAAoBmI,EAAO7G,OAAS6G,EACrDE,EAAOC,IAAEC,KAAKD,IAAEE,UAAUJ,GAAU,CAAC,SAC3C,OAAOK,OAAOC,OAAO,GAAIR,EAAOG,IAE3BM,GAA2B,CAChCpG,MAAO,OACPpB,YAAa,EACbnC,IAAK,qFACL4J,UAAU,EACV3J,WAAY,GACZC,aAAa,EACbqI,aAAc,EACd1F,SAAU,EACVJ,QAAQ,EACRM,SAAU,KACVR,WAAW,EACXoG,WAAY,KACZkB,MAAO,CAAC,EAAK,IAAK,IAAK,EAAK,MAEd,SAASC,GAAY1K,GACnC,IAAMU,EAAWwE,iBAAyB,MADoB,EAEnCyF,qBAAWd,GAAD,YAAC,eAClCU,IADiC,IAEpC3J,KAAU,OAALZ,QAAK,IAALA,OAAA,EAAAA,EAAOY,MAAO2J,GAAc3J,IACjCC,WAAY6I,GAAgB,OAAL1J,QAAK,IAALA,OAAA,EAAAA,EAAOY,MAAO2J,GAAc3J,QALU,mBAEvDD,EAFuD,KAE/CkC,EAF+C,KAQ1D+H,GAAW,EACTpI,EAAOxB,uBAAY,WACxB,IAAM6J,EAAKnK,GAAYA,EAASU,QAChC,GAAKyJ,IAGAD,EAAU,CACd,IAAME,EAAUD,EAAGrI,OAEnB,GADqC,kBAAZsI,EACV,CACdF,GAAW,EACX,IAAMG,EAAY,WACjBH,GAAW,GAEZE,EAAQE,KAAKD,EAAWA,GAEzB,OAAOD,KAGN,IACGjG,EAAQ7D,uBAAY,WACzB,IAAM6J,EAAKnK,GAAYA,EAASU,QAC5ByJ,IAAOD,GACVC,EAAGhG,UAEF,CAAC+F,IAGEjD,EAAa3G,uBAAY,WAC9B,IAEMiK,EAAQvK,GAAYA,EAASU,QAC9B6J,IACLA,EAAMrD,OAASqD,EAAMrD,MACrBqD,EAAMC,QAAUD,EAAMrD,OAASqD,EAAMC,OALlB,EACJ,MAKb,IAGGC,EAAanK,uBAAY,SAACmI,GAC/B,IAAM0B,EAAKnK,GAAYA,EAASU,QAC3ByJ,IAGLA,EAAG1B,aAAeA,EAClBtG,EAAS,CAAEjB,KAAM,SAAUsB,OAAQ,CAAEiG,qBACnC,IAEGvE,EAAoB5D,uBAAY,SAAC+B,GACtC,IAAM8H,EAAKnK,GAAYA,EAASU,QAC3ByJ,QAAsBrE,IAAhBqE,EAAGpH,WAGdoH,EAAG9H,YAAc0B,KAAKkE,IAAIkC,EAAGpH,SAAUgB,KAAKiE,IAAI,EAAG3F,IACnDd,QAAQC,IAAI,UAAW2I,EAAG9H,aACtB8H,EAAGxH,QACNwH,EAAGrI,UAEF,IAQH,MAAO,CACN7B,SACAkC,WACA7C,QACAU,WACAoD,SAZ+B,CAC/BtB,OACAqC,QACA8C,aACAwD,aACAvG,sBC7FF,IAOewG,GAPyB,SAACpL,GACxC,OACC,cAAC,EAAcqL,SAAf,CAAwBtG,MAAO2F,KAA/B,SACE1K,EAAMuH,YCKK+D,GAVW,WACzB,IACQ3K,EADOT,qBAAWO,GAClBE,OACR,OACC,mCACEA,EAAOwC,WAAa,gD,oBCuBTiI,GAvB0B,SAACpL,GACzC,OACC,cAACuL,GAAD,2BAAWvL,GAAX,aACC,sBAAKgH,UAAWC,KAAM,UAAtB,UACC,qBAAKD,UAAWC,KAAO,mBAAvB,SACC,cAAC,EAAD,MAED,sBAAKD,UAAWC,KAAM,UAAtB,UACC,sBAAKD,UAAWC,KAAM,kBAAtB,UACC,qBAAKD,UAAWC,KAAM,UAGtB,qBAAKD,UAAWC,KAAM,WAAtB,SACC,cAAC,GAAD,SAGF,cAAC,EAAD,cCdUuE,GAPC,WACf,OACC,mCACC,cAAC,GAAD,CAAQ5K,IAAI,Q,MC0BA6K,OAvBf,WACE,OAaE,aAZA,CAYA,qBACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWC,IACjC,cAAC,IAAD,CAAOH,OAAK,EAACC,KAAK,SAASC,UAAWE,W,iBCd/BC,GATd,aAAe,IAAD,iCAGd5L,MAAQ,EAHM,KAIdE,SAAS,WACR,EAAKF,SAJL6L,aAAmBC,OCINC,GAJd,aAAe,0BADfjM,SACc,EACbgM,KAAKhM,IAAM,IAAI8L,ICGFI,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBrB,MAAK,YAAkD,IAA/CsB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,SCQdO,IAASC,OACP,cAAC,EAAYvB,SAAb,CAAsBtG,MAAO,IAAImH,GAAjC,SAEE,cAAC,IAAMW,WAAP,UACE,cAAC,KAAD,UACE,cAAC,IAAD,CAAQC,QAASC,cAAjB,SACE,cAAC,GAAD,YAORjF,SAASkF,eAAe,SAM1Bb,O","file":"static/js/main.c71d56e7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"video-player_container__2uKDW\",\"video-container\":\"video-player_video-container__3sHGB\",\"operation\":\"video-player_operation__39MzM\",\"operation_content\":\"video-player_operation_content__3ufV1\",\"functional\":\"video-player_functional__3rLlY\",\"gesture\":\"video-player_gesture__3HaIP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"controls_container__yrgZO\",\"container-cotnrols\":\"controls_container-cotnrols__2fiYo\",\"row\":\"controls_row__fJCp2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider\":\"progress-bar_slider__4qXsU\",\"slider_loading\":\"progress-bar_slider_loading__nBa8d\",\"slider_current\":\"progress-bar_slider_current__2PTdl\",\"slider_marker\":\"progress-bar_slider_marker__1JhlM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"play-button_btn__3XUAF\",\"icon\":\"play-button_icon__36Tyh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"mute-button_btn__1Q-wS\",\"icon\":\"mute-button_icon__3hrqX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"full-screen_btn__95DE6\",\"icon\":\"full-screen_icon__1kxRI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"button_btn__vZdGt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"picture-button_icon__39Ug_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"time-text\":\"time-board_time-text__iwHNJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"playbackRate-button_btn__g-lzr\"};","/*\n * @Author: Fullsize\n * @Date: 2021-09-28 17:04:21\n * @LastEditors: Fullsize\n * @LastEditTime: 2021-09-28 17:12:27\n * @FilePath: /react-context/src/containers/video-player/components/controls/components/resolution-button/index.tsx\n */\nimport React, { useContext } from \"react\";\nimport Button from '../../../button';\nimport PlayerContext from \"../../../../context/context-manager\";\nenum ResolutionText {\n\t'SD' = '标清',\n\t'HD' = '高清',\n\t'FHD' = '超清'\n}\nconst Resolution: React.FC = () => {\n\tconst player = useContext(PlayerContext);\n\tconst { states: { resolution } } = player;\n\treturn (\n\t\t<Button>{ResolutionText[resolution]}</Button>\n\t)\n}\nexport default Resolution;","/*\n * @Author: Fullsize\n * @Date: 2021-09-26 16:25:53\n * @LastEditors: Fullsize\n * @LastEditTime: 2021-09-26 17:54:56\n * @FilePath: /react-context/src/stores/root_contxt.ts\n */\nimport { createContext} from \"react\";\nimport RootStore from './root'\nconst RootContext = createContext<RootStore>({} as RootStore)\nexport default RootContext;","/*\n * @Author: Fullsize\n * @Date: 2021-09-15 17:48:12\n * @LastEditors: Fullsize\n * @LastEditTime: 2021-09-26 16:41:02\n * @FilePath: /react-context/src/views/index.tsx\n */\nimport React,{useContext} from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport RootContext from '../stores/root_contxt';\nconst MainContext: React.FC =observer ((props) => {\n\tconst {app}=useContext(RootContext)\n\treturn (\n\t\t<>\n\t\t\t<div>{app.count}</div>\n\t\t\t<button onClick={app.addCount}>增加</button>\n\t\t</>\n\t)\n})\nexport default MainContext","/*\n * @Author: Fullsize\n * @Date: 2021-09-16 11:04:49\n * @LastEditors: Fullsize\n * @LastEditTime: 2021-09-17 09:45:13\n * @FilePath: /react-context/src/containers/video-player/context/context-manager.ts\n */\nimport React from \"react\";\nimport { Player } from './type';\nexport default React.createContext<Player>({} as Player)","/* eslint-disable @typescript-eslint/no-unused-vars */\n/*\n * @Author: Fullsize\n * @Date: 2021-09-16 11:42:30\n * @LastEditors: Fullsize\n * @LastEditTime: 2021-09-16 15:21:09\n * @FilePath: /react-context/src/containers/video-player/components/hls/index.tsx\n */\nimport React, { useContext, useEffect, useMemo, useState, useCallback } from \"react\";\nimport PlayerContext from \"../../context/context-manager\";\nimport { Player } from \"../../context/type\";\nimport Hls from 'hls.js';\nlet currentSrc = ''\nconst createHls = (player: Player): Hls => {\n\t// const hls = new Hls({\n\t//   loader: Loader,\n\t// });\n\tconst hls = new Hls();\n\tconst video = player.videoRef && player.videoRef.current;\n\tconst source = player.states.src;\n\thls.on(Hls.Events.ERROR, (e, data) => {\n\t\t// const {\n\t\t//   attributeRef,\n\t\t//   controls: { sendNotification },\n\t\t//   listeners,\n\t\t// } = player;\n\t\tconst { type, fatal, details } = data;\n\t\tif (!fatal) return;\n\t\tif (type === Hls.ErrorTypes.NETWORK_ERROR) {\n\t\t\t// const { isChangingSource, changeLabel, onceNotify } = attributeRef.current;\n\t\t\t// if (isChangingSource) {\n\t\t\t//   attributeRef.current.isChangingSource = false;\n\t\t\t//   sendNotification(`请求失败，无法切换到${changeLabel}`);\n\t\t\t//   return;\n\t\t\t// }\n\t\t\tif (\n\t\t\t\tdetails === Hls.ErrorDetails.MANIFEST_LOAD_ERROR ||\n\t\t\t\tdetails === Hls.ErrorDetails.MANIFEST_LOAD_TIMEOUT\n\t\t\t) {\n\t\t\t\t// sendNotification('加载失败，试试切换线路', Infinity);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// if (!onceNotify) {\n\t\t\t//   sendNotification('播放卡顿，试试切换线路或清晰度', 20 * 1000);\n\t\t\t//   attributeRef.current.onceNotify = true;\n\t\t\t// }\n\t\t} else if (type === Hls.ErrorTypes.MEDIA_ERROR) {\n\t\t\thls.recoverMediaError();\n\t\t} else {\n\t\t\thls.destroy();\n\t\t\t// if (listeners.onError) {\n\t\t\t//   listeners.onError(\n\t\t\t//     {\n\t\t\t//       message: '播放器出错啦',\n\t\t\t//       data,\n\t\t\t//     },\n\t\t\t//     player\n\t\t\t//   );\n\t\t\t// }\n\t\t}\n\t});\n\thls.once(Hls.Events.MANIFEST_PARSED, () => {\n\t\tvideo?.play();\n\t});\n\thls.once(Hls.Events.MEDIA_ATTACHED, () => {\n\t\thls.loadSource(source);\n\n\t});\n\treturn hls;\n};\n\nconst HLSSource: React.FC = () => {\n\tconst player = useContext(PlayerContext);\n\tconst {\n\t\tvideoRef,\n\t\tstates: { src, sourceType = 'application/x-mpegURL', initialized },\n\t} = player;\n\tconst playVideo = useCallback(() => {\n\t\tconst hls = new Hls();\n\t\tif (Hls.isSupported()) {\n\t\t\tif (!videoRef.current) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\thls.loadSource(src);\n\t\t\thls.attachMedia(videoRef.current);\n\n\t\t\thls.on(Hls.Events.ERROR, (e, data) => {\n\t\t\t\tconst { type, fatal, details } = data;\n\t\t\t\tif (!fatal) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (type === Hls.ErrorTypes.NETWORK_ERROR) {\n\t\t\t\t\tconsole.log('网络错误');\n\t\t\t\t} else if (type === Hls.ErrorTypes.MEDIA_ERROR) {\n\t\t\t\t\thls.recoverMediaError();\n\t\t\t\t} else {\n\t\t\t\t\thls.destroy();\n\t\t\t\t}\n\t\t\t});\n\t\t\thls.once(Hls.Events.MANIFEST_PARSED, () => {\n\t\t\t\tvideoRef.current?.play();\n\t\t\t});\n\t\t\thls.once(Hls.Events.MEDIA_ATTACHED, () => {\n\t\t\t\thls.loadSource(src);\n\t\t\t});\n\t\t}\n\t}, [src, videoRef]);\n\tuseEffect(()=>{\tplayVideo()},[playVideo])\n\treturn useMemo(() => {\n\t\treturn initialized ? <source src={src} type={sourceType} /> : null;\n\t}, [initialized, sourceType, src])\n\n};\n\nexport default HLSSource;","/*\n * @Author: Fullsize\n * @Date: 2021-09-16 11:40:40\n * @LastEditors: Fullsize\n * @LastEditTime: 2021-09-28 15:17:47\n * @FilePath: /react-context/src/containers/video-player/components/video/index.tsx\n */\nimport React, { useCallback, useContext, useMemo } from \"react\";\nimport PlayerContext from \"../../context/context-manager\";\nimport HLSSource from \"../hls\";\nconst Video: React.FC = () => {\n\tconst player = useContext(PlayerContext);\n\tconst { states, videoRef, dispatch, } = player\n\tconst onTimeUpdate = useCallback((e) => {\n\t\tdispatch({ type: 'currentTime', currentTime: e.target.currentTime })\n\n\t}, [dispatch])\n\tconst onPlaying = useCallback((e) => {\n\t\tdispatch({type:'custom',custom:{isLoading:false}})\n\t}, [dispatch])\n\tconst onPlay = useCallback((e) => {\n\t\tconsole.log('onPlay', e)\n\t\tdispatch({ type: 'paused', paused: false })\n\t}, [dispatch])\n\tconst onPause = useCallback((e) => {\n\t\tconsole.log('onPause', e)\n\t\tdispatch({ type: 'paused', paused: true })\n\t}, [dispatch])\n\tconst onLoadedData = useCallback((e) => {\n\t\tconsole.log('LoadedData', videoRef.current?.readyState)\n\t\tdispatch({ type: 'duration', duration: e.target.duration })\n\t}, [dispatch, videoRef])\n\tconst onProgress = useCallback((e) => {\n\t\tconsole.log('onProgress', e.target.buffered)\n\t\tdispatch({ type: 'custom', 'custom': { buffered: e.target.buffered } })\n\t}, [dispatch])\n\tconst onWaiting=useCallback((e)=>{\n\t\tconsole.log('onWaiting')\n\t\tdispatch({type:'custom',custom:{isLoading:true}})\n\t},[dispatch])\n\treturn useMemo(() => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<video\n\t\t\t\t\tref={videoRef}\n\t\t\t\t\tcontrols={false}\n\t\t\t\t\twebkit-playsinline=\"true\"\n\t\t\t\t\tplaysInline={true}\n\t\t\t\t\tx5-video-player-type='h5'\n\t\t\t\t\tstyle={{ 'width': states.width }}\n\t\t\t\t\tonTimeUpdate={onTimeUpdate}\n\t\t\t\t\tonPlay={onPlay}\n\t\t\t\t\tonPause={onPause}\n\t\t\t\t\tonPlaying={onPlaying}\n\t\t\t\t\tonProgress={onProgress}\n\t\t\t\t\tonLoadedData={onLoadedData}\n\t\t\t\t\tonWaiting={onWaiting}\n\t\t\t\t>\n\t\t\t\t\t{states.sourceType === '' && (<source src={states.src} />)}\n\t\t\t\t\t{states.sourceType === 'application/x-mpegURL'&&<HLSSource />}\n\t\t\t\t\t\n\t\t\t\t</video>\n\t\t\t</>\n\t\t)\n\t}, [videoRef, states.width, states.sourceType, states.src, onTimeUpdate, onPlay, onPause, onPlaying, onProgress, onLoadedData, onWaiting])\n\n}\nexport default Video;","/*\n * @Author: Fullsize\n * @Date: 2021-09-17 10:15:29\n * @LastEditors: Fullsize\n * @LastEditTime: 2021-09-27 17:24:24\n * @FilePath: /react-context/src/containers/video-player/components/controls/components/progress-bar/index.tsx\n */\nimport React, { useCallback, useContext, useMemo, useState, useRef, useEffect } from \"react\";\nimport PlayerContext from \"../../../../context/context-manager\";\nimport styles from './index.module.css';\nconst getBufferedEnd = (currentTime: number, buffered: any) => {\n\tif (!buffered) {\n\t\treturn 0;\n\t}\n\tfor (let i = buffered.length - 1; i >= 0; i -= 1) {\n\t\tconst end = buffered.end(i);\n\t\tif (currentTime <= end && buffered.start(i) <= currentTime) {\n\t\t\treturn end;\n\t\t}\n\t}\n\treturn 0;\n};\n\nconst getBufferedTranslateX = ({ buffered, currentTime, sliding, duration }: any) => {\n\tif (duration <= 0 || sliding) {\n\t\treturn '-100%';\n\t}\n\tconst e = getBufferedEnd(currentTime, buffered);\n\treturn `${((100 * e) / duration).toFixed(1)}%`;\n};\nconst getTrackTranslateX = ({ duration, currentTime, value, sliding }: any) => {\n\tif (duration < 0) {\n\t\treturn '0';\n\t}\n\tif (duration === 0) {\n\t\treturn '-100%';\n\t}\n\treturn `${((100 * (sliding ? value : currentTime)) / duration).toFixed(1)}%`;\n};\n\nconst getValue = (e: any, rect: any, duration: number) => {\n\tconst w = e.clientX - rect.left;\n\tif (w <= 0) {\n\t\treturn 0;\n\t}\n\tif (w >= rect.width) {\n\t\treturn duration;\n\t}\n\treturn Math.round((duration * (e.clientX - rect.left)) / rect.width);\n};\n\nconst ProgressBar: React.FC = () => {\n\tconst player = useContext(PlayerContext);\n\tconst { states: { currentTime, duration, buffered }, controls: { changeCurrentTime, pause } } = player;\n\tconst [value, setValue] = useState(currentTime);\n\tconst slidRef = useRef<HTMLDivElement>(null)\n\tconst slidTrackRef = useRef<HTMLDivElement>(null)\n\tconst [sliding, setSliding] = useState(false);\n\tconst updateRef = useRef<any>(null);\n\tconst rectangleRef = useRef<any>(null);\n\tconst trackTranslateX = getTrackTranslateX({ currentTime, duration, value, sliding })\n\tconst bufferedTranslateX = getBufferedTranslateX({ buffered, currentTime, sliding, duration });\n\tconst handClick = useCallback((e: any) => {\n\t\te.preventDefault();\n\t\tconst rect = e.currentTarget.getBoundingClientRect();\n\t\tconst v = getValue(e, rect, duration);\n\t\tsetValue(v)\n\t\tchangeCurrentTime(v)\n\t\tsetSliding(false);\n\t\tconsole.log('click',v)\n\t}, [changeCurrentTime, duration])\n\tconst update = useCallback(() => {\n\t\tif (!updateRef || !updateRef.current) {\n\t\t\treturn;\n\t\t}\n\t\tif (undefined !== updateRef.current.value) {\n\t\t\tsetValue(updateRef.current.value);\n\t\t}\n\t\tupdateRef.current = null;\n\t}, []);\n\tconst handTouchStart = useCallback((e) => {\n\t\tvar c = e.touches[0];\n\t\tif (slidRef.current) {\n\t\t\tconst { left, width } = slidRef.current.getBoundingClientRect();\n\t\t\trectangleRef.current = { left, width }\n\t\t}\n\t\tconst v = getValue(c, rectangleRef.current, duration);\n\t\tif (updateRef.current) {\n\t\t\tupdateRef.current.value = v;\n\t\t} else {\n\t\t\tupdateRef.current = { value: v };\n\t\t\twindow.requestAnimationFrame(update);\n\t\t}\n\t}, [duration, update])\n\tconst handTouchMove = useCallback((e) => {\n\t\tvar c = e.touches[0];\n\t\tif (!rectangleRef || !rectangleRef.current || !updateRef) {\n\t\t\treturn;\n\t\t}\n\t\tif (slidRef.current) {\n\t\t\tconst { left, width } = slidRef.current.getBoundingClientRect();\n\t\t\trectangleRef.current = { left, width }\n\t\t}\n\t\tconst v = getValue(c, rectangleRef.current, duration);\n\t\tpause()\n\t\tsetSliding(true)\n\t\tif (updateRef.current) {\n\t\t\tupdateRef.current.value = v;\n\t\t} else {\n\t\t\tupdateRef.current = { value: v };\n\t\t\twindow.requestAnimationFrame(update);\n\t\t}\n\t}, [duration, pause, update])\n\tuseEffect(()=>{\n\t\tsetSliding(false)\n\t},[currentTime])\n\tconst handTouchEnd = useCallback((e) => {\n\t\te.preventDefault();\n\t\tupdate();\n\t\tconsole.log('handTouchEnd',value,e)\n\t\tchangeCurrentTime(value)\n\t\n\t}, [changeCurrentTime, update, value])\n\n\treturn useMemo(() => {\n\t\treturn (\n\t\t\t<div className={styles['slider']} ref={slidRef} onClick={handClick}>\n\t\t\t\t{/* 加载条 */}\n\t\t\t\t<div\n\t\t\t\t\tclassName={styles['slider_loading']}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\t'width': `${bufferedTranslateX}`\n\t\t\t\t\t}}>\n\t\t\t\t</div>\n\t\t\t\t{/* 进度条 */}\n\t\t\t\t<div\n\t\t\t\t\tclassName={styles['slider_current']}\n\t\t\t\t\tref={slidTrackRef}\n\t\t\t\t\tonTouchStart={handTouchStart}\n\t\t\t\t\tonTouchMove={handTouchMove}\n\t\t\t\t\tonTouchEnd={handTouchEnd}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\t'width': `${trackTranslateX}`\n\t\t\t\t\t}}>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}, [bufferedTranslateX, handClick, handTouchEnd, handTouchMove, handTouchStart, trackTranslateX])\n\n}\nexport default ProgressBar;","/*\n * @Author: Fullsize\n * @Date: 2021-09-28 15:00:50\n * @LastEditors: Fullsize\n * @LastEditTime: 2021-09-28 15:07:03\n * @FilePath: /react-context/src/containers/video-player/components/button/index.tsx\n */\nimport React from \"react\";\nimport styles from './index.module.css';\ninterface Props {\n\tclassName?: string;\n\tdisabled?: boolean;\n\tonClick?: () => void;\n}\nconst Button: React.FC<Props> = (props) => {\n\tconst handClick = (e:any) => {\n\t\te.preventDefault()\n\t\tprops.onClick && props.onClick()\n\t\treturn false;\n\t}\n\treturn (\n\t\t<button\n\t\t\tclassName={`${styles['btn']} ${props.className ?? ''}`}\n\t\t\tonClick={handClick}\n\t\t\tdisabled={props.disabled}\n\t\t>\n\t\t\t{props.children}\n\t\t</button>\n\t)\n}\nexport default Button;","/*\n * @Author: Fullsize\n * @Date: 2021-09-17 11:36:28\n * @LastEditors: Fullsize\n * @LastEditTime: 2021-09-28 18:13:38\n * @FilePath: /react-context/src/containers/video-player/components/controls/components/play-button/index.tsx\n */\nimport React, { useContext, useMemo } from \"react\";\nimport PlayerContext from \"../../../../context/context-manager\";\nimport PlayIcon from '../../../../img/play.png';\nimport pause from '../../../../img/pause.png';\nimport Button from '../../../button'\nimport styles from './index.module.css';\nconst PlayButton: React.FC = () => {\n\tconst player = useContext(PlayerContext);\n\tconst { states: { paused }, controls } = player;\n\treturn useMemo(() => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Button className={styles['btn']} onClick={paused ? controls.play : controls.pause}>\n\t\t\t\t\t<img className={styles['icon']} src={paused ? pause : PlayIcon} alt=\"\" />\n\t\t\t\t</Button>\n\t\t\t</>\n\t\t)\n\t}, [controls.pause, controls.play, paused])\n\n}\nexport default PlayButton;","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCBAMAAAAReh3bAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAhUExURUdwTAAAAAAAAAQEBPz8/OTk5Nvb2/b29vr6+v7+/v///3Z85bcAAAAKdFJOUwAJBBDTaD2OrOajTsxUAAABlElEQVRIx+2VMU7EMBBFrdxgYgSUM76BCUi0iJU4AB0dFYgOCbE1DYegBwmfkplxYk821rJCK0SBq7/e5+9JpPzv3K+ujldLGyDw6ha6LAx54YY2FtMuzvXCIgT+YbW1IADoxTpUjdZCNvO20cYjBMhL3Ys2j8/H/NPqVQ8Kcb+6iqzRjEFwkFK6VYLgkPWFEFg9wD/w7oteA3DO+oM1zsa44d3LkThl/e6hjooyhhJyeQ9eCdHVg2DIxAkIrcRgCKwEEF8yLAgnu0oM+iIq0RUPiIUgS5SnnXv4kYjlcfV1jERsEs4Qu3nAHjy2zxH3MEf8tTn+Pf6eB3zr4XfygB96wHYPZ2+pX3asXzZaj76dH1SJ0M6PmkGSUm2PKekkCmvSdYss5EEZmQgT7F0rT8EQ+kJyJufUPtZM3sz1o5Q+p1z3byk9znJdY/tufT22B/mz9bNotP1SWofrqi8NVBAcW4zkmNWzkiKiQNptQX/QvCxzB+djbNg3+naqULkZjTaF6+yxloWTCeX8pralLH/hUrsvoSVwt8bpsNEAAAAASUVORK5CYII=\"","/*\n * @Author: Fullsize\n * @Date: 2021-09-23 10:03:47\n * @LastEditors: Fullsize\n * @LastEditTime: 2021-09-28 16:52:57\n * @FilePath: /react-context/src/containers/video-player/components/controls/components/mute-button/index.tsx\n */\nimport React, { useContext } from \"react\";\nimport PlayerContext from \"../../../../context/context-manager\";\nimport Button from '../../../button';\nimport styles from './index.module.css';\nimport volume from '../../../../img/volume.png'\nimport muted from '../../../../img/muted.png'\nconst MuteButton: React.FC = () => {\n\tconst play = useContext(PlayerContext);\n\tconst { videoRef, controls: { toggleMute } } = play;\n\n\treturn (\n\t\t<>\n\t\t\t<Button className={styles['btn']} onClick={toggleMute}>\n\t\t\t\t<img className={styles['icon']} src={videoRef.current?.muted ? muted : volume} alt=\"\" />\n\t\t\t</Button>\n\t\t</>\n\t)\n\n}\nexport default MuteButton;\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAMAAADUivDaAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABCUExURUdwTP////////////////////////////////////////////////////////////////////////////////////VtkI8AAAAVdFJOUwDY+gh9QEwPtOfGA24o8xtbqJmMNdaRBE4AAAI/SURBVFjD7ZfbboQgEIYRVOSgeOL9X7WVWWUG0aVu0qRJ56JJd/WDmX9Oy9i//S2TznwGGLX3wyyfA8Tkg2nxlGA6/zL7lDDtBF99TPCcRtjW/U8IOvzFARXVd4hLGDMc37IqRTTBNVlOYF2KWMNX3TvCchDOCAYu1sWEDMJAfNpSQgbBnNo+UzfhqEGLkV0h2MrvXaGELILZ7cNB3hOOnD4QrlOT28MRpF6Id4tWL/NJvA+ExlK24RoO+TZ4aoi/IwxF6yQaOiHMjOVv4Xnz8qSh5ScTwmRyiB6k3HtH+K+nKeu5qoJNpMNERUBKi0vAksLxNt8kkagWX6MllbIhuL4QGSFASjjZiO1OitxieY+AkzXWQGJEXYAIMeQSBWP9MWJGqV/jci1HtOhJiyupHNGjxBuxquUIiZR8iDBIkoeOuJD/H4VzRbF4KOqInnyYWlO8vBlOCT4XIMT22iDiS6TMYiO4QYzotSVT7Nq2YP0VQqqoI1Tt8WhPm5bqLxDh4MrEVI+NzyTdV7ksYjxNKHuaHXGrcRlEw9Elgu8czSKx8IQhTwgIxL6b6LOIrrU1GMwiLVNEi90I9cEd3YsMHdtxUdwRKyqPfrhrlczAvPCdSGJRcz6LwuWAMqIi4gWV1fsVZWeY7HIgtb8rCDqmw2BMEUKXLdWIkSI6X7g0RkaCCEOM5u+VNcDoIC7oTJVk73sGGHK8UV6XEfaagLqja3z5b4H2YHTsqR2M5vkvqzXEklv2gYlx6pae/dsv2hcSGVMpT/tfdQAAAABJRU5ErkJggg==\"","/*\n * @Author: Fullsize\n * @Date: 2021-09-28 17:18:31\n * @LastEditors: Fullsize\n * @LastEditTime: 2021-09-28 17:55:46\n * @FilePath: /react-context/src/containers/video-player/components/controls/components/picture-button/index.tsx\n */\nimport React, { useCallback, useContext } from \"react\";\nimport Button from '../../../button';\nimport PlayerContext from \"../../../../context/context-manager\";\nimport picture from '../../../../img/picture.png';\nimport styles from './index.module.css';\nconst Picture: React.FC = () => {\n\tconst player = useContext(PlayerContext);\n\tconst { videoRef } = player\n\tconst handClick = useCallback(() => {\n\t\tif (!document.pictureInPictureElement) {\n\t\t\tvideoRef.current && videoRef.current.requestPictureInPicture()\n\t\t\t\t.catch(error => {\n\t\t\t\t\t// 视频无法进入画中画模式\n\t\t\t\t});\n\t\t} else {\n\t\t\tdocument.exitPictureInPicture()\n\t\t\t\t.catch(error => {\n\t\t\t\t\t// 视频无法退出画中画模式\n\t\t\t\t});\n\t\t}\n\t}, [videoRef])\n\treturn (\n\t\t<>\n\t\t\t{document.pictureInPictureEnabled && <Button onClick={handClick}>\n\t\t\t\t<img className={styles['icon']} src={picture} alt=\"\" />\n\t\t\t</Button>}\n\t\t</>\n\n\t)\n}\nexport default Picture;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCBAMAAAAReh3bAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAqUExURQAAAAAAAAAAAAAAAAMDA+7u7sPDw/Ly8lBQUPHx8ZiYmNTU1Ojo6PLy8t0hpsoAAAANdFJOUwIGDwoXwUjzGOEpXo3CQjxiAAACW0lEQVRIx4WWPW8UMRCGb//BrfwPZhcBgca2kFDK1Ta0Eac0pEmBFAENEqKBBhoQ0FBENGkQJVWQKKBDgi4lEAH3X5gZ22uPP+Ct7nYfveP1fNirlVfXS61XQvR6LSWhvs8dvCLQ97ZQgnT0XpeI1SFQzUAgHQEGSg0ciSxUHUAh0rGFagDoojFMhxYv9x/W9OALrQSDqN2TbV3fn1oirL22bYlMiHjVJF4PjrjXJH4Roaz5BwGWCEDi5vys0I2MmOcx2YkR/+fENMndmgpidplg0R6PY0aQRZJVMsk9BEDI4mG9h0927wsOA12WBFroWJ+aTEoiqWCF+8jEkBD421UlNwKtRBJ7MOilsrG0VSC0INah9rvFwyYE/V4ARV9zAbMviBCEAVrpzuPthxrhFsG7+v4bLb8gfH+59JkKwYt07yeAmkev9AJMNYIsTCgh4I3OCVzlzp3PTp84WRmB37F7sBTycUlQkOex1H++HeSechObs6Qb9goCg5iDhLif55Z2C07yjpKEZmLD2s9qjDaHghDxbp6TjhJ1SuOoRUw0tDgjBaGCh2s4GFuE7yjTJnxXAsxND5oNlPZ2lHnyg6NJTLOfLRWC5tjxbdah8/jIf44EEdJ9yh4yL72YhT/4Wxad+3l6MT56BHBWmbhX46PfAOl0PaXKw7K6HovmDcCLCPyxTKDJla+uIja3ngBcursJ/w658Fb90oMwUPaG9ATiqZOcYsYO6Zk3WO3bTLnHcVQaf8qFwZWdplocymJihHmqVATW9WsDd4W8QDTuBeKGIe4KXXZz+J/+Atu3quII2wcsAAAAAElFTkSuQmCC\"","/*\n * @Author: Fullsize\n * @Date: 2021-09-28 15:50:05\n * @LastEditors: Fullsize\n * @LastEditTime: 2021-09-28 15:54:53\n * @FilePath: /react-context/src/containers/video-player/components/controls/components/time-board/index.tsx\n */\nimport React, { useContext } from \"react\";\nimport PlayerContext from \"../../../../context/context-manager\";\nimport styles from './index.module.css';\nconst formatTime = (value = 0): string => {\n\tlet outputH: string;\n\tlet outputM: string;\n\tlet outputS: string;\n\tconst timeSystem = 60;\n\tconst max = 10;\n\tconst min = 0;\n\tconst timeStamp = Math.round(value);\n\tconst hours = Math.floor(timeStamp / timeSystem / timeSystem);\n\tconst minutes = Math.floor((timeStamp - hours * timeSystem * timeSystem) / timeSystem);\n\tconst seconds = Math.round(timeStamp - hours * timeSystem * timeSystem - minutes * timeSystem);\n\tif (hours > max) {\n\t\toutputH = `${hours}:`;\n\t} else if (hours > min) {\n\t\toutputH = `0${hours}:`;\n\t} else {\n\t\toutputH = '';\n\t}\n\tif (minutes < max) {\n\t\toutputM = `0${minutes}:`;\n\t} else {\n\t\toutputM = `${minutes}:`;\n\t}\n\tif (seconds < max) {\n\t\toutputS = `0${seconds}`;\n\t} else {\n\t\toutputS = `${seconds}`;\n\t}\n\treturn `${outputH}${outputM}${outputS}`;\n};\n\nconst TimeBoard: React.FC = () => {\n\tconst player = useContext(PlayerContext);\n\tconst { states: { currentTime, duration } } = player;\n\treturn (\n\t\t<span className={styles['time-text']}>\n\t\t\t{formatTime(currentTime)}/{formatTime(duration)}\n\t\t</span>\n\t)\n}\nexport default TimeBoard;","/*\n * @Author: Fullsize\n * @Date: 2021-09-28 16:03:19\n * @LastEditors: Fullsize\n * @LastEditTime: 2021-09-28 16:35:08\n * @FilePath: /react-context/src/containers/video-player/components/controls/components/playbackRate-button/index.tsx\n */\nimport React, { useContext, useMemo, useCallback } from \"react\";\nimport PlayerContext from \"../../../../context/context-manager\";\nimport Button from '../../../button';\nimport styles from './index.module.css';\nconst PlaybackRateButton: React.FC = () => {\n\tconst player = useContext(PlayerContext);\n\tconst { states: { playbackRate }, dispatch } = player;\n\tconst handClick = useCallback(() => {\n\t\tdispatch({\n\t\t\ttype: 'custom',\n\t\t\tcustom: {\n\t\t\t\tmodal: { type: 'rate', enable: false }\n\t\t\t}\n\t\t})\n\t}, [dispatch])\n\treturn useMemo(() => (\n\t\t<Button className={styles['btn']} onClick={handClick}>\n\t\t\t{playbackRate}x\n\t\t</Button>\n\t), [handClick, playbackRate])\n}\nexport default PlaybackRateButton;","/*\n * @Author: Fullsize\n * @Date: 2021-09-28 17:33:16\n * @LastEditors: Fullsize\n * @LastEditTime: 2021-09-28 17:45:08\n * @FilePath: /react-context/src/containers/video-player/components/controls/components/full-screen/index.tsx\n */\nimport React from \"react\";\nimport Button from '../../../button';\nimport fullscreen from '../../../../img/full_screen.png';\nimport styles from './index.module.css';\nconst PageFull: React.FC = () => {\n\treturn (\n\t\t<Button className={styles['btn']}>\n\t\t\t<img className={styles['icon']} src={fullscreen} alt=\"\" />\n\t\t</Button>\n\t)\n}\nexport default PageFull;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCBAMAAAAReh3bAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAhUExURQAAAAAAAAQEBAcHB/Ly8p2dnezs7Onp6fHx8ebm5vLy8rtbNzcAAAAKdFJOUwEFCQ/oI5R6ymfKA8GqAAACOElEQVRIx5VWS24UMRC1b+D2DcYNhGxtxCLbtBCaJREXCMmG5SgLxAVAOQHKlhEgnxLXzy73uMlQm5mqeX7tdvm9GmPOC2unEroAuVvluiS5FFxJQggVAow+hF2jxTxgSSgxD3UJAwDiaAXngZdgIaUEFXgyrphTim2Jxxwguwk5CyCmGQqIgELCiA3RFwrFXYY43uKawvlA+adCQg95myl+MeJC8kiFML/hypERrznPKewIcbWFuAGEVYj1UwAxwUYTI+pO/YMgykYE8TPhmZWtO4vnk9L+FAGvb9t5jBFw6GYbwX3hNmjETAg+47IRIqmISRBAYU3r5V7eVhBCUUkEAftCRKNgkoL4QKfuw4ucr0OlYJL5MecozX6V862mwGL4WrqACMDfvdMUTHKx3HORL7Km4OLO4y0EtXjvO8kBiW9yYMV1FFV2Y5EqiNKtMyOIYV78OAE4+YWkbAeW4Zwz/xFD9JB4M7TddMbUm9T6wcq37MrETs900i1o5qiKtbdu3VvlMF++9ffDQvHy+4GKBV2UfOhJgOJJ7tjgnlq5p4xQd92N7vpAL7bXS685N9JcVbaQ2LVuz9F+7x+lI/9yGO3J+y0fMxs+dlyW5f1BjvBHyZbcOwzGb0Zcdn76vCef4+vbs+EPOUzZ6svPVLmXndY81Nf/CHEDkw97GSiPymESHQcU6HLQEAtqeMYYqw/hrJznNl7X89adzNvnZzaqh+Z+EyHNfbcWWPNkkWH982CG/z/o61+bVkhbglwWYgAAAABJRU5ErkJggg==\"","/*\n * @Author: Fullsize\n * @Date: 2021-09-17 10:12:01\n * @LastEditors: Fullsize\n * @LastEditTime: 2021-09-28 17:45:49\n * @FilePath: /react-context/src/containers/video-player/components/controls/index.tsx\n */\nimport React from \"react\";\nimport styles from './index.module.css';\nimport ProgressBar from './components/progress-bar'\nimport PlayButton from './components/play-button';\nimport MuteButton from './components/mute-button';\nimport Picture from './components/picture-button';\nimport TimeBoard from \"./components/time-board\";\nimport PlaybackRateButton from \"./components/playbackRate-button\";\nimport Resolution from \"./components/resolution-button\";\nimport PageFull from './components/full-screen'\nconst VideoControls = () => {\n\treturn (\n\t\t<div className={styles['container']}>\n\t\t\t<ProgressBar />\n\t\t\t<div className={styles['container-cotnrols']}>\n\t\t\t\t<div className={styles['row']}>\n\t\t\t\t\t{/* 播放按钮 */}\n\t\t\t\t\t<PlayButton />\n\t\t\t\t\t{/* 时间面板 */}\n\t\t\t\t\t<TimeBoard />\n\t\t\t\t</div>\n\t\t\t\t<div className={styles['row']}>\n\t\t\t\t\t{/* 播放倍速 */}\n\t\t\t\t\t<PlaybackRateButton />\n\t\t\t\t\t{/* 清晰度 */}\n\t\t\t\t\t<Resolution />\n\t\t\t\t\t{/* 声音按钮 */}\n\t\t\t\t\t<MuteButton />\n\t\t\t\t\t{/* 画中画 */}\n\t\t\t\t\t<Picture />\n\t\t\t\t\t{/* 全屏 */}\n\t\t\t\t\t<PageFull />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\nexport default VideoControls;","/*\n * @Author: Fullsize\n * @Date: 2021-09-16 11:46:56\n * @LastEditors: Fullsize\n * @LastEditTime: 2021-09-16 11:50:59\n * @FilePath: /react-context/src/containers/video-player/context/utils.ts\n */\nexport function SourceType(src: string): string {\n\tconst originSrc = src.split('?')[0];\n\tconst fileType = originSrc.split('.').pop();\n\tlet sourceType = '';\n\tswitch (fileType) {\n\t\tcase 'm3u8':\n\t\t\tsourceType = 'application/x-mpegUrl';\n\t\t\tbreak;\n\t\tcase 'flv':\n\t\t\tsourceType = 'video/x-flv';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tsourceType = '';\n\t}\n\treturn sourceType;\n}","/* eslint-disable react-hooks/exhaustive-deps */\n/*\n * @Author: Fullsize\n * @Date: 2021-09-16 11:08:28\n * @LastEditors: Fullsize\n * @LastEditTime: 2021-09-28 17:13:54\n * @FilePath: /react-context/src/containers/video-player/context/user-context.ts\n */\nimport { useCallback, useReducer, useRef } from \"react\";\nimport _ from 'lodash';\nimport { StateType, DispatchAction, Player, VideoControls } from './type';\nimport { SourceType } from './utils';\nimport { PropsType } from '../type';\nconst Reducer = (state: StateType, action: DispatchAction) => {\n\tconst actions = action.type === 'custom' ? action.custom : action\n\tconst json = _.omit(_.cloneDeep(actions), ['type'])\n\treturn Object.assign({}, state, json)\n}\nconst DEFAULT_STATE: StateType = {\n\twidth: '100%',\n\tcurrentTime: 0,\n\tsrc: 'https://api.dogecloud.com/player/get.mp4?vcode=5ac682e6f8231991&userId=17&ext=.mp4',\n\tautoplay: false,\n\tsourceType: '',\n\tinitialized: true,\n\tplaybackRate: 1.0,\n\tduration: 0,\n\tpaused: true,\n\tbuffered: null,\n\tisLoading: false,\n\tresolution: 'HD',\n\trates: [2.0, 1.5, 1.2, 1.0, 0.75]\n}\nexport default function UserContext(props?: PropsType): Player {\n\tconst videoRef = useRef<HTMLVideoElement>(null);\n\tconst [states, dispatch] = useReducer(Reducer, {\n\t\t...DEFAULT_STATE,\n\t\tsrc: props?.src || DEFAULT_STATE.src,\n\t\tsourceType: SourceType(props?.src || DEFAULT_STATE.src),\n\t});\n\t// video controls\n\tlet lockPlay = false;\n\tconst play = useCallback(() => {\n\t\tconst el = videoRef && videoRef.current;\n\t\tif (!el) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (!lockPlay) {\n\t\t\tconst promise = el.play();\n\t\t\tconst isPromise = typeof promise === 'object';\n\t\t\tif (isPromise) {\n\t\t\t\tlockPlay = true;\n\t\t\t\tconst resetLock = (): void => {\n\t\t\t\t\tlockPlay = false;\n\t\t\t\t};\n\t\t\t\tpromise.then(resetLock, resetLock);\n\t\t\t}\n\t\t\treturn promise;\n\t\t}\n\t\treturn undefined;\n\t}, []);\n\tconst pause = useCallback(() => {\n\t\tconst el = videoRef && videoRef.current;\n\t\tif (el && !lockPlay) {\n\t\t\tel.pause();\n\t\t}\n\t}, [lockPlay]);\n\n\t// 音量\n\tconst toggleMute = useCallback(() => {\n\t\tconst MIN_VOLUME = 0;\n\t\tconst VOLUME = 0.5;\n\t\tconst video = videoRef && videoRef.current;\n\t\tif (!video) return;\n\t\tvideo.muted = !video.muted;\n\t\tvideo.volume = !video.muted || video.volume ? MIN_VOLUME : VOLUME;\n\t}, []);\n\n\t// 切换倍速\n\tconst changeRate = useCallback((playbackRate: number) => {\n\t\tconst el = videoRef && videoRef.current;\n\t\tif (!el) {\n\t\t\treturn;\n\t\t}\n\t\tel.playbackRate = playbackRate;\n\t\tdispatch({ type: 'custom', custom: { playbackRate } })\n\t}, []);\n\n\tconst changeCurrentTime = useCallback((currentTime: number) => {\n\t\tconst el = videoRef && videoRef.current;\n\t\tif (!el || el.duration === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tel.currentTime = Math.min(el.duration, Math.max(0, currentTime));\n\t\tconsole.log(220220220, el.currentTime);\n\t\tif (el.paused) {\n\t\t\tel.play();\n\t\t}\n\t}, [])\n\tconst controls: VideoControls = {\n\t\tplay,\n\t\tpause,\n\t\ttoggleMute,\n\t\tchangeRate,\n\t\tchangeCurrentTime\n\t}\n\treturn {\n\t\tstates,\n\t\tdispatch,\n\t\tprops,\n\t\tvideoRef,\n\t\tcontrols\n\t}\n}","/*\n * @Author: Fullsize\n * @Date: 2021-09-16 10:58:34\n * @LastEditors: Fullsize\n * @LastEditTime: 2021-09-16 15:28:26\n * @FilePath: /react-context/src/containers/video-player/contextChild.tsx\n */\nimport React from \"react\";\nimport PlayerContext from \"./context/context-manager\";\nimport UserContext from './context/user-context';\nimport { PropsType } from './type';\nconst VideoPlayer: React.FC<PropsType>= (props) => {\n\treturn (\n\t\t<PlayerContext.Provider value={UserContext()}>\n\t\t\t{props.children}\n\t\t</PlayerContext.Provider>\n\t)\n}\nexport default VideoPlayer;","/*\n * @Author: Fullsize\n * @Date: 2021-09-24 16:41:20\n * @LastEditors: Fullsize\n * @LastEditTime: 2021-09-24 17:45:25\n * @FilePath: /react-context/src/containers/video-player/components/loading/index.tsx\n */\nimport React, { useContext } from \"react\";\nimport PlayerContext from \"../../context/context-manager\";\nconst Loading: React.FC = () => {\n\tconst player = useContext(PlayerContext);\n\tconst { states } = player;\n\treturn (\n\t\t<>\n\t\t\t{states.isLoading && <div>loading...</div>}\n\t\t</>\n\n\t)\n}\nexport default Loading;","/*\n * @Author: Fullsize\n * @Date: 2021-09-16 10:58:34\n * @LastEditors: Fullsize\n * @LastEditTime: 2021-09-28 17:55:08\n * @FilePath: /react-context/src/containers/video-player/index.tsx\n */\nimport React from \"react\";\nimport { PropsType } from './type';\nimport Video from './components/video';\nimport VideoControls from './components/controls'\nimport Child from \"./Child\";\nimport Loading from \"./components/loading\";\nimport styles from './index.module.css';\nconst VideoPlayer: React.FC<PropsType> = (props) => {\n\treturn (\n\t\t<Child {...props}>\n\t\t\t<div className={styles['container']}>\n\t\t\t\t<div className={styles['video-container']}>\n\t\t\t\t\t<Video />\n\t\t\t\t</div>\n\t\t\t\t<div className={styles['operation']}>\n\t\t\t\t\t<div className={styles['operation_content']}>\n\t\t\t\t\t\t<div className={styles['gesture']}>\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={styles['functional']}>\n\t\t\t\t\t\t\t<Loading />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<VideoControls />\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t</Child>\n\t)\n}\nexport default VideoPlayer;","/*\n * @Author: Fullsize\n * @Date: 2021-09-16 10:57:33\n * @LastEditors: Fullsize\n * @LastEditTime: 2021-09-16 15:26:34\n * @FilePath: /react-context/src/views/video/index.tsx\n */\nimport React from 'react';\nimport Player from '../../containers/video-player';\nconst VideoPage=()=>{\n\treturn(\n\t\t<>\n\t\t\t<Player src=''  />\n\t\t</>\n\t)\n}\nexport default VideoPage;","/*\n * @Author: Fullsize\n * @Date: 2021-09-15 17:19:25\n * @LastEditors: Fullsize\n * @LastEditTime: 2021-09-29 15:09:02\n * @FilePath: /react-context/src/App.tsx\n */\n// import React, { lazy, Suspense } from 'react';\nimport React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport Home from './views'\n// import routers from '../src/routes';\nimport PlayPage from './views/video'\nimport './App.css';\n\nfunction App() {\n  return (\n    // <div>\n    //   <Suspense fallback={<div>Loading...</div>}>\n    //     <Switch>\n    //       {/* {routers().map((item: { path: string; page: string; }) => (\n    //         <Route key={item.path} exact path={item.path} component={lazy(() => import(`./views/${item.page}`))}>\n    //         </Route>\n    //       ))} */}\n    //       <Route exact path=\"/\" component={Home} />\n    //       <Route exact path=\"/video\" component={PlayPage} />\n    //     </Switch>\n    //   </Suspense>\n    // </div>\n    <>\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/video\" component={PlayPage} />\n      </Switch>\n    </>\n  );\n}\n\nexport default App;\n","/*\n * @Author: Fullsize\n * @Date: 2021-09-26 14:41:23\n * @LastEditors: Fullsize\n * @LastEditTime: 2021-09-26 16:38:29\n * @FilePath: /react-context/src/stores/app.ts\n */\nimport { makeAutoObservable } from \"mobx\"\nclass AppStore {\n\tconstructor() {\n\t\tmakeAutoObservable(this)\n\t}\n\tcount = 1;\n\taddCount=()=> {\n\t\tthis.count++;\n\t}\n}\n\nexport default AppStore;","/*\n * @Author: Fullsize\n * @Date: 2021-09-26 14:43:25\n * @LastEditors: Fullsize\n * @LastEditTime: 2021-09-26 14:45:12\n * @FilePath: /react-context/src/stores/index.ts\n */\nimport AppStore from \"./app\";\nclass RootStore {\n\tapp: AppStore;\n\tconstructor() {\n\t\tthis.app = new AppStore();\n\t}\n}\nexport default RootStore;","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","/*\n * @Author: Fullsize\n * @Date: 2021-09-15 17:19:25\n * @LastEditors: Fullsize\n * @LastEditTime: 2021-09-29 15:14:11\n * @FilePath: /react-context/src/index.tsx\n */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Router } from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\nimport './index.css';\nimport App from './App';\nimport RootStore from './stores/root';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter } from 'react-router-dom';\nimport RootContext from './stores/root_contxt'\nReactDOM.render(\n  <RootContext.Provider value={new RootStore()}>\n\n    <React.StrictMode>\n      <HashRouter>\n        <Router history={createBrowserHistory()}>\n          <App />\n        </Router>\n      </HashRouter>\n    </React.StrictMode>\n\n  </RootContext.Provider>\n  ,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}